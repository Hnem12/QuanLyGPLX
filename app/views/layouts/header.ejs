<link rel="stylesheet" href="css/trangchu.css">
<div class="header">
    <div class="logo">
        <img src="/uploads/h7.png" alt="Logo">
        <div class="title">
            <a href="http://localhost:3000/trangchu" style="color: white; font-family: Georgia, 'Times New Roman', Times, serif; text-decoration: none;">Trang Ch·ªß</a>
        </div>
        <button id="toggleButton" class="btn btn-outline-light">
            <i class="fas fa-chevron-left"></i>
        </button>
    </div>
    <div class="user-info">
        <div class="notification">üîî</div>
        <div class="username" id="usernameDisplay"></div>
        <img src="/uploads/h6.jpg" alt="Avatar" style="border-radius: 50%; height: 40px; width: 40px; margin-left: 10px;">
        <a href="#" class="logout-button" id="logoutButton">ƒêƒÉng xu·∫•t</a>
    </div>
</div>

<script>
    // Fetch username from local storage and display it
    document.addEventListener('DOMContentLoaded', () => {
    const username = localStorage.getItem('username');
    const usernameDisplay = document.getElementById('usernameDisplay');
    if (username) {
        usernameDisplay.textContent = username; 
    } else {
        usernameDisplay.textContent = 'Kh√°ch';
    }
});

document.getElementById('logoutButton').addEventListener('click', (event) => {
    event.preventDefault(); // Prevent the default link behavior

    const confirmLogout = confirm('B·∫°n c√≥ ch·∫Øc l√† mu·ªën tho√°t kh√¥ng?'); // Ask for confirmation

    if (confirmLogout) {
        localStorage.removeItem('username'); // Clear username from local storage
        localStorage.removeItem('token'); // Clear token from local storage
        alert('B·∫°n ƒë√£ ƒëƒÉng xu·∫•t th√†nh c√¥ng!'); // Notify the user

        // Redirect to login page
        window.location.href = "/login"; // Change to your logout redirection

        // Clear previous history to prevent back navigation
        setTimeout(() => {
            window.history.pushState(null, null, window.location.href);
            window.onpopstate = function () {
                window.history.pushState(null, null, window.location.href);
            };
        }, 0);
    }
});


</script>
