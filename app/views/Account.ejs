<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qu·∫£n l√Ω gi·∫•y ph√©p l√°i xe</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <!-- Sidebar -->
  <div class="header">
    <div class="logo">
      <img src="/uploads/h7.png">
      <div class="title">Trang Ch·ªß</div>
      <button id="toggleButton" class="btn btn-outline-light">
        <i class="fas fa-chevron-left"></i>
      </button>
    </div>
    <div class="user-info">
      <div class="notification">üîî</div>
      <div class="system-name"></div>
       <img src="/uploads/h6.jpg" alt="Avatar">
    </div>
  </div>

  <div class="main-content-wrapper">
    <nav class="sidebar">
         
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link text-white" href="/truyxuatbanglaixeoto" >
            
            <i class="icon fas fa-search"></i>
            <span>Truy xu·∫•t s·∫£n ph·∫©m</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="#">
            <i class="icon fas fa-cog"></i>
            <span>Qu·∫£n l√Ω</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="/account">
            <i class="icon fas fa-users"></i>
            <span>T√†i kho·∫£n t·ªï ch·ª©c</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="/licenseHolder">
            <i class="icon fas fa-building"></i>
            <span>Danh s√°ch t·ªï ch·ª©c</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="#">
            <i class="icon fas fa-chart-bar"></i>
            <span>Th·ªëng k√™ doanh nghi·ªáp</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="#">
            <i class="icon fas fa-user-shield"></i>
            <span>Ph√¢n quy·ªÅn vai tr√≤</span>
          </a>
        </li>
      </ul>
    </nav>
    <!-- Main content -->
    <div class="p-4 flex-grow-1">
      <h3>Danh s√°ch t√†i kho·∫£n t·ªï ch·ª©c</h3>
      <button class="btn btn-success mb-3">Th√™m t√†i kho·∫£n</button>

      <!-- Table -->
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>STT</th>
            <th>T√†i kho·∫£n</th>
            <th>T√™n ng∆∞·ªùi d√πng</th>
            <th>Th√¥ng tin</th>
            <th>Vai tr√≤</th>
            <th>Tr·∫°ng th√°i</th>
            <th>T√°c v·ª•</th>
          </tr>
        </thead>
        <tbody id="accountTableBody">
          <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // H√†m ƒë·ªÉ fetch d·ªØ li·ªáu t·ª´ API v√† hi·ªÉn th·ªã l√™n b·∫£ng
    async function fetchAccounts() {
      try {
        const response = await fetch('http://localhost:3000/api/account');
        const accounts = await response.json();
        const tableBody = document.getElementById('accountTableBody');

        accounts.forEach((account, index) => {
          const row = `
            <tr>
              <td>${index + 1}</td>
              <td>${account.username}</td>
              <td>${account.Name}</td>
              <td>ƒêi·ªán tho·∫°i: ${account.SDT} <br>Email: ${account.username}</td>
              <td>${account.role}</td>
              <td>ƒê√£ k√≠ch ho·∫°t</td>
              <td>
                <button class="btn btn-warning btn-sm">S·ª≠a</button>
                <button class="btn btn-danger btn-sm">X√≥a</button>
              </td>
            </tr>
          `;
          tableBody.insertAdjacentHTML('beforeend', row);
        });
      } catch (error) {
        console.error('Failed to fetch accounts:', error);
      }
    }

    // G·ªçi h√†m fetchAccounts khi trang ƒë∆∞·ª£c load
    window.onload = fetchAccounts;
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/index.js"></script>

</body>
</html>
